<!-- snippets/featured-products.liquid -->

<div class="grid-uniform">

  {% comment %}
    Loop through products in your Frontpage collection.
    This collection is created by default, but you must add products to it.

    See the snippet 'snippets/product-grid-collage.liquid'.

    `is_reverse_row_product`, `three_row_index_product`, `collection_product_count_product`, and `divisible_by_three_product` are
    all used by 'snippets/product-grid-collage.liquid'
  {% endcomment %}

    {% assign is_reverse_row__product = false %}
    {% assign three_row_index__product = 0 %}
  	{% unless settings.preview_mode %}
      {% if collections[settings.home_featured_products].products_count > 50 %}
        {% assign collection_product_count__product = 50 %}
      {% else %}
        {% assign collection_product_count__product = collections[settings.home_featured_products].products_count %}
      {% endif %}
    {% endunless %}
    {% assign divisible_by_three__product = collection_product_count__product | modulo:3 %}

    {% for product in collections[settings.home_featured_products].products limit: 8 %}
      {% include 'product-grid-item' %}
    {% endfor %}

</div>
